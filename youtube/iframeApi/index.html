
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Youtube Iframe API</title>
</head>
<body>

<iframe id="youtubePlayer" type="text/html" width="560" height="315" src="https://www.youtube.com/embed/7y6Vp6HmwMw?enablejsapi=1" frameborder="0" allowfullscreen></iframe>

<script>

var player;
function onYouTubeIframeAPIReady () {
    console.log("loaded");
    player = new YT.Player("youtubePlayer", {
        events: {
            "onStateChange": stateChange
        }
    });
}

function stateChange(state){
    console.log(state);
    switch(state.data) {
    case 3: 
        console.log("3");
        break;
    }

    if (state === YT.PlayerState.ENDED) {
        // 동영상 플레이가 종료됐을 때 수행할 코드
    }
}

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";

var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>

</body>
</html>
